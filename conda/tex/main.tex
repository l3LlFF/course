\documentclass[12pt, a4paper]{article}

% Поля страницы
\usepackage{geometry}
\geometry{left=2cm}
\geometry{right=1cm}
\geometry{top=2cm}
\geometry{bottom=2cm}

%Package mandatory for each paper\
\usepackage{indentfirst}
\usepackage[cp1251]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage[russian]{babel}
\usepackage{amsbsy}
\usepackage{comment}
\usepackage[pdftex]{graphicx}
\usepackage{epstopdf}
\usepackage{scalefnt}
\newtheorem{thm}{Theorem}
\newtheorem{lem}{Lemma}
\newcommand{\thb}{{\boldsymbol \theta}}
\newcommand{\eb}{{\bf e}}
\newcommand{\nut}{\nu_t, \: t \geq 0}
\newcommand{\pib}{{\boldsymbol \pi}}
\newcommand{\pb}{{\bf p}}
\def\bs{\boldsymbol}
%Packages required by this paper
\usepackage{rotating, longtable, hhline}
\usepackage{amsmath, amsfonts, amssymb, amsthm}

\usepackage{float}
\restylefloat{table}
\begin{document}



\begin{titlepage}
\begin{center}
  \textbf{\uppercase{Министерство Образования Республики Беларусь}}
\end{center}
\begin{center}
  \textbf{\uppercase{Белорусский Государственный Университет}}
\end{center}
\begin{center}
  \textbf{Факультет прикладной математики и информатики}
\end{center}
\begin{center}
  Кафедра теории вероятностей и математической статистики
\end{center}
\vfill

\begin{center}
  \uppercase{Бокша Виктор Александрович}
\end{center}
\begin{center}
  \uppercase{\large{\bf{Система массового обслуживани $M/G/1$ с запасами как модель узла беспроводной сенсорной цепи со сбором энергии}}}
\end{center}
\begin{center}
 	Курсовой проект \\ студента 4 курса 7 группы
\end{center}

\vfill

\begin{tabular}{p{90mm}p{90mm}}
``Допустить к защите''\newline
с предварительной оценкой \underline{~~~~~~}\newline
\vskip 1.5em
Руководитель работы\newline
\underline{~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~}\newline
<<\underline{~~~~}>>\underline{~~~~~~~~~~~~~~~~~~~~} 2021 г.
&
 \textbf{Руководитель}\newline
  \textit{Клименок Валентина Ивановна}\newline
  доктор физико-математических наук, \newline профессор
  \vskip 1em
\end{tabular}
\vfill
\vfill
\begin{center}Минск 2021\end{center}
\end{titlepage}
\setcounter{page}{2}



\tableofcontents
\newpage



%-------------------------------------- ВВЕДЕНИЕ ----------------------------------------

\begin{center} {\bf {ВВЕДЕНИЕ}} \end{center}




\newpage

\section{Математическая модель}

%-------------------------------------- Описание системы ----------------------------------------

\subsection{Описание системы}

Рассматривается однолинейная система массового обслуживания $MAP/G/1$. Поступление запросов происходит в марковском входном потоке ($MAP$), более подробное описание в \cite{bi:1}. Предполагается, что запросы могут поступать в моменты переходов неприводимой ЦМ $\nu_t, \,  t\geq1$. 

Рассматривается система массового обслуживания MАР/G/1 с запасами. В этой СМО обслуживание поступающего запроса возможно только при наличии  единицы энергии. Единицы энергии хранятся в  конечном буфере, в котором помещается $K$ таких единиц.
Если запрос прибывает на обслуживание, когда прибор занят или в конечном буфере нет энергии, то он становится в конец очереди бесконечного размера. Запросы выбираются из очереди на обслуживание в соответствии с дисциплиной FIFO «первым пришел - первым ушел». Время обслуживания запроса  имеет произвольную функцию  распределения $B (t)$ с преобразованием Лапласа-Стилтьеса  $\beta(s)=\int\limits_0^ \infty e^{-st}d B(t)$ и средним $b_1<\infty$.
Единицы  энергии поступают в буфер для энергии в  стационарном пуассоновском потоке  с интенсивностью $\gamma.$ Если в момент поступления единицы энергии буфер полностью заполнен ( в нем уже есть $K$ единиц энергии), то поступающая единица энергии теряется (возможно, перенаправляется на другой объект). В то же время единица энергии забирается из буфера в момент начала обслуживания запроса на приборе, так как для обслуживания одного запроса требуется одна единица энергии.


\newpage

%--------------------------------- Цепь Маркова, описывающая поведение системы ---------------------------------

\subsection{Цепь Маркова, описывающая поведение системы}
Пусть в момент $t$ \\
$i_t$ -- число запросов на орбите, $i_t\geq0,$ \\
$ n_t = \begin{cases}
0, & \mbox{если основной прибор исправен и свободен} \\
1, & \mbox{если основной прибор исправен и занят} \\
2, & \mbox{если основной прибор на ремонте, а резервный свободен} \\
3, & \mbox{если основной прибор на ремонте, а резервный занят} \\
\end{cases}$

 $m_t^{(j)}$ - состояние управляющего процесса  обслуживания на  $j$-м занятом приборе, $j=1,2, m_t^{(j)}=\overline{1,M^{(j)}};$

 $\vartheta_t$ -  состояние управляющего процесса  ремонта,  $\vartheta_t=\overline{1,R};$

  $\nu_t$ и $\eta_t$ - состояния управляющих процессов   $MAP$ потока запросов и  $MAP$ потока поломок соответственно, $\nu_t=\overline{0,W}, \, \eta_t=\overline{0,V}.$


Процесс функционировния системы описывается регулярной неприводимой цепью Маркова $\xi_t$ с пространством состояний


$$
X=\{(i,n,\nu,\eta),\,  i\geq0, n=0,\nu=\overline{0,W},\eta=\overline{0,V}\}\bigcup
    $$

   $$
\{(i,n,\nu,\eta, m^{(1)}),\,  i\geq0, n=1,\nu=\overline{0,W},\eta=\overline{0,V}, m^{(1)}=\overline{1,M^{(1)}}\}\bigcup
$$

    $$
\{(i,n,\nu,\eta, \vartheta),\,  i\geq0, n=2,\nu=\overline{0,W},\eta=\overline{0,V}, \vartheta=\overline{1,R}\}\bigcup
$$


    $$
 \{(i,n,\nu,\eta,  m^{(2)}, \vartheta),\,  i\geq0, n=3,\ \nu=\overline{0,W},\eta=\overline{0,V},
    \vartheta=\overline{1,R},  m^{(2)}=\overline{1,M^{(2)}}\}.
    $$


Далее будем предполагать, что состояния цепи $\xi_t, t\geq 0,$ упорядочены в лексикографическом порядке. Подмножество состояний, соответствующих значению  $i$  первой (счетной) компоненты, назовем уровнем $i.$
Обозначим через  $Q_{i,j}$ матрицу интенсивностей переходов цепи c  уровня $i$ на уровень $j.$  Введем также следующие обозначения:

$\bullet$ $\bar{W}=W+1,\, \bar{V}=V+1, \,a=\bar{W}\bar{V};$

$\bullet$  $\otimes,\, \oplus$ символы кронекерова произведения и суммы матриц соответственно;

%$\bullet$  ${ diag}\{A_i, i=\overline{1,k}\}$ блочная диагональная матрица с диагональными блоками $A_i, %i=\overline{1,k}$.



%-------------------------------------- Инфинитезимальный генератор ----------------------------------------


{\bf Лемма 1.} {\it
Инфинитезимальный генератор ЦМ $\xi_t$ имеет следующий вид:


    $$Q=
	\begin{pmatrix}
    Q_{0,0}& Q_{0,1}&0&0&0&\dots\\
    Q_{1,0}& Q_{1,1}&Q_{1,2}&0&0&\dots\\
    0& Q_{2,1}&Q_{2,2}&Q_{2,3}&0&\dots\\
    0& 0&Q_{3,2}&Q_{3,3}&Q_{3,4}&\dots\\
    \vdots&\vdots&\vdots&\vdots&\vdots&\ddots\\
	\end{pmatrix}, $$
где блоки $Q_{i,j}$ задают интенсивности перехода цепи с уровня $i$ на уровень $j$ и имеют следующий вид:


   $$Q_{i,i-1} =i\alpha\times
	\begin{pmatrix}
    O_a& I_a\otimes  {\bs \beta}^{(1)}&O&O\cr
	O& O_{aM^{(1)}}  &O&O\cr
	O&O&O_{aR}& I_a\otimes {\bs \beta}^{(2)}\otimes I_R  \cr
	O&O&O& O_{aM^{(2)}R}\cr
	\end{pmatrix},\,i\geq1, $$

\vspace{2mm}

 $$Q_{i,i} =$$
 $$
	\begin{pmatrix}
    D_0\oplus H_0-i\alpha I_a& D_1\otimes I_{\bar{V}}\otimes  {\bs \beta}^{(1)}&I_{\bar{W}}\otimes H_1\otimes  {\bs \tau}&O\cr
	I_a\otimes {\bs S}_0^{(1)} & D_0\oplus H_0\oplus S^{(1)}    &O&I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta^{(2)}}\otimes {\bs \tau}\cr
	I_a\otimes {\bs T}_0&O&D_0\oplus H\oplus T-i\alpha I_{aR}& D_1\otimes I_{\bar{V}}\otimes {\bs \beta}^{(2)}\otimes I_R  \cr
	O&I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0 &I_a\otimes {\bs S}_0^{(2)}\otimes I_R &D_0\oplus H\oplus S^{(2)} \oplus T \cr
    \end{pmatrix},
    i\geq0,$$

\vspace{2mm}

$$Q_{i,i+1} =
	\begin{pmatrix}
	O_a&O&O&O\cr
	O&  D_1\otimes I_{\bar{V}M^{(1)}}  &O&O\cr
	O&O&O_{aR}& O \cr
	O&O&O& D_1\otimes I_{\bar{V}M^{(2)}R}\cr
	\end{pmatrix},i\geq1,$$
где $H=H_0+H_1.$
}

{\it Доказательство.} Доказательство проводится путем анализа вероятностей переходов ЦМ $\xi_t$ за бесконечно малый интервал времени.
\newpage

{\bf Следствие 1.} {\it
Цепь Маркова $\xi_t$ принадлежит классу асимптотически квазитеплицевых цепей Маркова (АКТЦМ).}

{\it Доказательство.}
 Обозначим через $A^{(i)}$ матрицу, диагональные элементы которой совпадают с модулями диагональных элементов матрицы $Q_{i,i}$.
Из  $\cite{bi:1}$ следует, что рассматриваемая цепь принадлежит классу АКТЦМ, если  существуют пределы

$$Y_k = \lim\limits_{i\to \infty}(A^{(i)})^{-1} Q_{i,i+k-1}, k=0,2,\eqno(1)$$
$$Y_1 = \lim\limits_{i\to \infty}(A^{(i)})^{-1} Q_{i,i}+I \eqno(2) $$
и матрица $Y_0+Y_1+Y_2$, является стохастической.


Как нетрудно подсчитать, в нашем случае

 $$
     Y_0 =
	\begin{pmatrix}
    O_a& I_a\otimes  {\bs \beta}^{(1)}&O&O\cr
	O& O_{aM^{(1)}}  &O&O\cr
	O&O&O_{aR}& I_a\otimes {\bs \beta}^{(2)}\otimes I_R  \cr
	O&O&O& O_{aM^{(2)}R}\cr
    	\end{pmatrix}, \eqno(3)   $$

При нахождении матрицы $Y_1$ заметим, что каждую их матриц $A^{(i)}, i>0,$ можно представить в виде блочной диагональной матрицы $diag\{A^{(i)}_0, A_1, A^{(i)}_2, A_3\},$ где порядок блока  с нижним  индексом $n$ равен порядку соответствующего диагонального блока матрицы $Q_{i,i.}$ С учетом этих обозначений матрица $Y_1$ будет иметь вид


      $$Y_1 =$$
      {\scriptsize $$=
	\begin{pmatrix}
	O&O&O&O\cr
	A_1^{-1}(I_a\otimes {\bs S}_0^{(1)}) & A_1^{-1}(D_0\oplus H_0\oplus S^{(1)})+I    &O&A_1^{-1}(I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta^{(2)}}  \otimes{\bs \tau})\cr
	O&O&O& O \cr
	O&A_3^{-1}(I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0) &A_3^{-1}(I_a\otimes {\bs S}_0^{(2)}\otimes I_R ) &A_3^{-1}(D_0\oplus H\oplus S^{(2)} \oplus T)+I \cr
	\end{pmatrix},\eqno(4)$$
}

а матрица $Y_2$ запишется как

$$Y_2 =
\begin{pmatrix}
    O_a&O&O&O\cr
	O& A_1^{-1}( D_1\otimes I_{\bar{V}M^{(1)}})  &O&O\cr
	O&O&O_{aR}& O \cr
	O&O&O& A_3^{-1}( D_1\otimes I_{\bar{V}M^{(2)}R})\cr
\end{pmatrix},\,i\geq1,\eqno(5)
    $$

Сумма матриц $Y_k$ имеет вид
$$
Y_0+Y_1+Y_2=
$$
      {\scriptsize $$=
\begin{pmatrix}

	O& I_a\otimes  {\bs \beta}^{(1)}&O&O\cr
	A_1^{-1}(I_a\otimes {\bs S}_0^{(1)}) & A_1^{-1}(D\oplus H_0\oplus S^{(1)})+I    &O&A_1^{-1}(I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta^{(2)}}  \otimes{\bs \tau})\cr
	O&O&O& I_a\otimes {\bs \beta}^{(2)}\otimes I_R  \cr
	O&A_3^{-1}(I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0) &A_3^{-1}(I_a\otimes {\bs S}_0^{(2)}\otimes I_R ) &A_3^{-1}(D\oplus H\oplus S^{(2)} \oplus T)+I \cr
        \end{pmatrix}\eqno(6)
$$
}

и является стохастической матрицей.

Таким образом, пределы (1)-(2) существуют и их сумма (6) есть стохастическая матрица. Это значит, что цепь Маркова $\xi_t$ принадлежит классу АКТЦМ.

$\Box$
	




%--------------------------------- Условие эргодичности ----------------------------------

\newpage
\section{Условие эргодичности}
Обозначим через $Y(z)$ ПФ матриц $Y_k$:
$$Y(z)=Y_0+Y_1 z+Y_2 z^2, |z|\leq1.$$


{\bf Теорема 1.} {\it Достаточным условием эродичности ЦМ $\xi_t$ является выполнение неравенства

$$
\lambda<{\bs \pi}_1{\bs S}_0^{(2)}+
{\bs \pi}_2{\bs S}_0^{(1)},\eqno(1)
$$
где векторы $ {\bs \pi}_1,\, {\bs \pi}_2$ определяются как

$$
{\bs \pi}_1={\bf y}_1 ({\bf e}_{\bar{V}}\otimes I_{M^{(2)}}\otimes {\bf e}_R),
$$
$$
{\bs \pi}_2={\bf y}_2 ({\bf e}_{\bar{V}}\otimes I_{M^{(1)}}),
$$
а вектор ${\bf y}=({\bf y}_1, {\bf y}_2)$ определяется как единственное решение СЛАУ
$$
{\bf y}
\begin{pmatrix}
   H\oplus (S^{(2)}+{\bs S}_0^{(2)}{\bs \beta}^{(2)}) \oplus T & I_{\bar{V}}\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
 H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau} &H_0\oplus (S^{(1)}+ {\bs S}_0^{(1)} {\bs \beta}^{(1)})   \cr
\end{pmatrix}={\bf 0},\, {\bf y}{\bf e}=1. \eqno(2)
$$
Если неравенство (1) имеет противоположный знак, то ЦМ $\xi_t$ не является эргодической.
}

{\it Доказательство.} При доказательстве эргодичности будем использовать результаты для АКЦМ, полученные в \cite{KlDud}.
Согласно  \cite{KlDud},  достаточным условием эргодичности АКТЦМ $\xi_t,t\geq0$, является выполнение неравенства

$$[det(zI-Y(z))]'|_{z=1}>0.\eqno(3)$$.

В нашем случае матрица $Y(z)$ имеет вид


 $$
Y(z)=
$$
{\scriptsize
$$
\begin{pmatrix}
    O_a& I_a\otimes  {\bs \beta}^{(1)}&O&O\cr
	zA_1^{-1}(I_a\otimes {\bs S}_0^{(1)}) & zI+A_1^{-1}[zC_1+z^2 ( D_1\otimes I_{\bar{V}M^{(1)}})]   &O&z  A_1^{-1}(I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau})\cr
	O&O&O_{aR}& I_a\otimes {\bs \beta}^{(2)}\otimes I_R  \cr
	O&z A_3^{-1}(I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0) &z A_3^{-1}(I_a\otimes {\bs S}_0^{(2)}\otimes I_R ) &zI+A_3^{-1}[z C_2+z^2 ( D_1\otimes I_{\bar{V}M^{(2)}R})]\cr
\end{pmatrix}
$$
}

где
$$
C_1=D_0\oplus H_0\oplus S^{(1)}, \, C_2=D_0\oplus H\oplus S^{(2)} \oplus T.\eqno(4)
$$

Переставим 1-ю и 4-ю блочные строки, а также 1-ый и 4-ый стобец. Получим

$$
\tilde{Y}(z)=
$$
{\scriptsize
$$
\begin{pmatrix}
	zI+A_3^{-1}[z C_2+z^2 ( D_1\otimes I_{\bar{V}M^{(2)}R})] &z A_3^{-1}(I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0) &z A_3^{-1}(I_a\otimes {\bs S}_0^{(2)}\otimes I_R ) &O\cr
	z A_1^{-1}(I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau}) & zI+A_1^{-1}[zC_1+z^2 ( D_1\otimes I_{\bar{V}M^{(1)}})]   &O& zA_1^{-1}(I_a\otimes {\bs S}_0^{(1)})\cr
	I_a\otimes {\bs \beta}^{(2)}\otimes I_R  &O&O_{aR}&O  \cr
	O  & I_a\otimes  {\bs \beta}^{(1)}&O&O_a\cr
\end{pmatrix}
$$
}

Из (3) следует, что для нахождения условия эргодичности рассматриваемой цепи Маркова $\xi_t$ нам нужно прежде всего получить выражение для определителя   $det(zI-Y(z)).$ Поскольку матрица $\tilde{Y}(z)$ была получена в результате перестановки блочных  рядов матрицы $Y(z)$, то $det(zI-Y(z))=det(zI-\tilde{Y}(z))$ и условие эргодичности (1) можно записать в виде


$$[det(zI-\tilde{Y}(z))]'|_{z=1}>0.\eqno(5)$$

\newpage

Далее представим матрицу $zI-\tilde{Y}(z)$ в следующем блочном виде:

$$
zI-\tilde{Y}(z)=\begin{pmatrix}
A(z)&B(z)\cr
C&D(z)\cr
\end{pmatrix},\eqno(6)
$$

где

$$
A(z)=-z {\cal A}
\begin{pmatrix}
  C_2+z ( D_1\otimes I_{\bar{V}M^{(2)}R}) & I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau} &C_1+z ( D_1\otimes I_{\bar{V}M^{(1)}})\cr
\end{pmatrix},\eqno(7)
$$

$$
B(z)=-z {\cal A}
\begin{pmatrix}
 I_a\otimes {\bs S}_0^{(2)}\otimes I_R  &O\cr
 O& I_a\otimes {\bs S}_0^{(1)}\cr
\end{pmatrix},\eqno(8)
$$

$$
C=-\begin{pmatrix}
  I_a\otimes {\bs \beta}^{(2)}\otimes I_R  &O\cr
O  & I_a\otimes  {\bs \beta}^{(1)}\cr
\end{pmatrix},\eqno(9)
$$

$$
D(z)=zI,\eqno(10)
$$

а матрица ${\cal A}$ имеет вид ${\cal A}=diag\{A_3^{-1}, A_1^{-1}\}.$

Известно, что определитель (6) блочной матрицы можно преобразовать к виду


$$det(zI-\tilde{Y}(z))=
det\begin{pmatrix}
A(z)&B(z)\cr
C&D(z)\cr
\end{pmatrix}=det[A(z)-B(z)D^{-1}(z)C]det D(z).\eqno(11)
$$

Подставим в (11) выражения (7)-(10) для матриц $A(z), B(z), C, D(z)$. Тогда получим, что

$$
det(zI-\tilde{Y}(z))=
det(z {\cal A})
det\biggl[-z
\begin{pmatrix}
  C_2+z ( D_1\otimes I_{\bar{V}M^{(2)}R}) & I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
 I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau} &C_1+z ( D_1\otimes I_{\bar{V}M^{(1)}})\cr
\end{pmatrix}-
$$
$$
-
\begin{pmatrix}
 I_a\otimes {\bs S}_0^{(2)}\otimes I_R  &O\cr
O& I_a\otimes {\bs S}_0^{(1)}\cr
\end{pmatrix}
\begin{pmatrix}
  I_a\otimes {\bs \beta}^{(2)}\otimes I_R  &O\cr
O  & I_a\otimes  {\bs \beta}^{(1)}\cr
\end{pmatrix}\biggr].\eqno(12)
$$

Взяв производную в точке $z=1$ в (12) и учитывая, что $det {\cal A}>0$  и матрица в квадратных скобках при $z=1$ есть инфинитезимальный генератор, определитель которого равен нулю, получим следующий вид неравенства (5):


$$[det(zI-\tilde{Y}(z))]'|_{z=1}=
det {\cal A}\biggl\{det\biggl[-z
\begin{pmatrix}
  C_2+z ( D_1\otimes I_{\bar{V}M^{(2)}R}) & I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
 I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau} &C_1+z ( D_1\otimes I_{\bar{V}M^{(1)}})\cr
\end{pmatrix}-
$$
$$
-
\begin{pmatrix}
 I_a\otimes {\bs S}_0^{(2)}\otimes I_R  &O\cr
O& I_a\otimes {\bs S}_0^{(1)}\cr
\end{pmatrix}
\begin{pmatrix}
  I_a\otimes {\bs \beta}^{(2)}\otimes I_R  &O\cr
O  & I_a\otimes  {\bs \beta}^{(1)}\cr
\end{pmatrix}\biggr]\biggr\}'_{z=1}>0.\eqno(13)
$$

Следуя доказательству теоремы 2 в \cite{KlDud}, можно показать, что неравенство (11)
эквивалентно следующему неравенству:

$$[det(zI-\tilde{Y}(z))]'|_{z=1}=
{\bf x}\biggl[z
\begin{pmatrix}
  C_2+z ( D_1\otimes I_{\bar{V}M^{(2)}R}) & I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
 I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau} &C_1+z ( D_1\otimes I_{\bar{V}M^{(1)}})\cr
\end{pmatrix}\biggr]'_{z=1}{\bf e}<0,\eqno(14)
$$

где вектор $\bf x$ есть единственное решение СЛАУ
$$
{\bf x}\biggl[
\begin{pmatrix}
  C_2+  D_1\otimes I_{\bar{V}M^{(2)}R} & I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau}  &C_1+  D_1\otimes I_{\bar{V}M^{(1)}}\cr
\end{pmatrix}+
$$
$$
+\begin{pmatrix}
 I_a\otimes {\bs S}_0^{(2)}\otimes I_R  &O\cr
 O& I_a\otimes {\bs S}_0^{(1)}\cr
\end{pmatrix}
\begin{pmatrix}
  I_a\otimes {\bs \beta}^{(2)}\otimes I_R  &O\cr
O  & I_a\otimes  {\bs \beta}^{(1)}\cr
\end{pmatrix}\biggr]= {\bf 0},\, {\bf x}{\bf e}=1.\eqno(15)
$$

Взяв производную в (14) и подставив в (14)-(15) выражения (4) для матриц $C_1, C_2$, после преобразований получим неравенство


$${\bf x}
\begin{pmatrix}
  D_1\otimes I_{\bar{V}M^{(2)}R}+I_a\otimes S^{(2)}\otimes I_R\cr
D_1\otimes I_{\bar{V}M^{(1)}} +I_a\otimes S^{(1)}\cr
\end{pmatrix}{\bf e}<0.\eqno(16)
$$


где вектор $\bf x$ есть единственное решение СЛАУ



$$
{\bf x}
\begin{pmatrix}
  D\oplus H\oplus (S^{(2)}+{\bs S}_0^{(2)}{\bs \beta}^{(2)}) \oplus T & I_a\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
I_{\bar{W}}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau} &D\oplus H_0\oplus (S^{(1)}+ {\bs S}_0^{(1)} {\bs \beta}^{(1)})   \cr
\end{pmatrix}={\bf 0},\, {\bf x}{\bf e}=1.\eqno(17)
$$

Представим вектор $\bf x$ в виде

$$
{\bf x}=({\bs \theta}\otimes {\bf y}_1,\,{\bs \theta}\otimes {\bf y}_2),\eqno(18)
$$
где векторы ${\bf y}_1$ и ${\bf y}_2$ подлежат определению. Вектор ${\bf y}_1$ имеет размерность $\bar{V}M^{(2)}R$, а вектор ${\bf y}_2$ -- размерность $\bar{V}M^{(1)}.$  Обозначим ${\bf y}=({\bf y}_1,\, {\bf y}_2).$

С учетом представления (18) система (17) сводится к следующей системе

$$
{\bf y}
\begin{pmatrix}
   {\bs \theta}\otimes (H\oplus (S^{(2)}+{\bs S}_0^{(2)}{\bs \beta}^{(2)}) \oplus T) & {\bs \theta}\otimes I_{\bar{V}}\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
{\bs \theta}\otimes H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau} &{\bs \theta}\otimes ( H_0\oplus (S^{(1)}+ {\bs S}_0^{(1)} {\bs \beta}^{(1)}))   \cr
\end{pmatrix}={\bf 0},\, {\bf y}{\bf e}=1,
$$
или


$$
{\bf y}
\begin{pmatrix}
   H\oplus (S^{(2)}+{\bs S}_0^{(2)}{\bs \beta}^{(2)}) \oplus T) & I_{\bar{V}}\otimes {\bs \beta}^{(1)}\otimes{\bf e}_{M^{(2)}}\otimes {\bs T}_0\cr
 H_1\otimes {\bf e}_{M^{(1)}}\otimes {\bs \beta}^{(2)}\otimes {\bs \tau} &H_0\oplus (S^{(1)}+ {\bs S}_0^{(1)} {\bs \beta}^{(1)})   \cr
\end{pmatrix}={\bf 0},\, {\bf y}{\bf e}=1. \eqno(19)
$$

Теперь подставим вектор $\bf y$ в неравенство (16). Учитывая, что ${\bf y}{\bf e}=1$ и ${\bs \theta}D_1{\bf e}=\lambda,$ получим эквивалентное неравенство

$$
\lambda+{\bf y}_1 ({\bf e}_{\bar{V}}\otimes S^{(2)}{\bf e}\otimes {\bf e}_R)+
{\bf y}_2 ({\bf e}_{\bar{V}}\otimes S^{(1)}){\bf e}<0.
$$

Учитывая свойства кронекерового произведения, запишем последнее неравенство в виде

$$
\lambda+{\bf y}_1 ({\bf e}_{\bar{V}}\otimes I_{M^{(2)}}\otimes {\bf e}_R)S^{(2)}{\bf e}+
{\bf y}_2 ({\bf e}_{\bar{V}}\otimes I_{M^{(1)}})S^{(1)}{\bf e}<0,
$$
или, принимая во внимание, что $S^{(k)}{\bf e}=-{\bs S}_0^{(k)}, k=1,2,$

$$
\lambda<{\bf y}_1 ({\bf e}_{\bar{V}}\otimes I_{M^{(2)}}\otimes {\bf e}_R){\bs S}_0^{(2)}+
{\bf y}_2 ({\bf e}_{\bar{V}}\otimes I_{M^{(1)}}){\bs S}_0^{(1)}\eqno(20)
$$

$\Box$

\vspace{1cm}

{\bf Замечание 1.} Неравенство (1) имеет следующий физический смысл: вектор ${\bs \pi}_k$ задает распределение фаз процесса обслуживания на $k$-м приборе в условиях перегрузки СМО, $k=1,2$. Тогда правая часть (1) есть интенсивность выходящего потока в условиях перегрузки, в то время как правая часть этого неравенства есть интенсивность входящего потока.  Интуитивно понятно, что система имеет стационарный режим (ЦМ эргодична), если интенсивность входного потока меньше интенсивности выходящего потока.

\newpage
\section{ Стационарное распределение}

Для нахождения стационарного распределения  необходимо решить систему уравнений равновесия в виде
$${\bf p}Q=0, {\bf p}{\bf e}=1.$$

Она, вообще говоря, является бесконечной СЛАУ и решить ее известными классическими методами, вроде метода производящих функций, не удается. Поэтому мы будем применять адаптированный на случай блочного трехдиагонального генератора алгоритм, разработанный в $\cite{KlDud}$ для АКТЦМ общего вида.

\vspace {0.5cm}


{\it АЛГОРИТМ}



\begin{itemize}


    \item[1)] Находим матрицу $G$ как единственное минимальное неотрицательное
    решение уравнения
    $$
    G=Y_0+Y_1G+Y_2G^2.
    $$

 {\bf Замечание 1}. Это матричное уравнение можно решать методом итераций
 $$
 G^{(n+1)}=(I-Y_1)^{-1}[Y_0+Y_2 (G^{(n)})^2],
 $$
 где $G^0=I.$ Останавливаемся, когда становится  $\| G^{(n+1)}-G^{(n)})\|<\epsilon_G.$


    \item[2)] Находим матрицы $G_{i},i\geq 0,$ из уравнения обратной рекурсии:
    $$
    G_{i}=\left(
    -Q_{i+1,i+1}-Q_{i+1,i+2}G_{i+1}\right)^{-1}Q_{i+1,i},
    $$

 При реализации этого шага мы используем факт существования  предела $\lim\limits_{i\to\infty}G_i=G $ (этот факт следует из асимптотических свойств рассматриваемой цепи), чтобы найти начальное условие для    уравнения обратной рекурсии. Для этого выбираем некоторое число $i_{0},$ полагаем $G_{i_{0}+1}=G,$ вычисляем по уравнению $G_{i_0}$ и проверяем условие
    $
    \| G_{i_{0}} - G\| < \epsilon_G .
    $
Если условие выполняется, то полагаем все матрицы $G_i$ для $i\ge i_0$ равными $G$.
 Остальные матрицы $G_i$ находим из уравнения  обратной рекурсии. Если условие не выполняется для этого $i_{0},$ то по какому-то алгоритму выбираем новое (большее) значение  $i_{0}.$

    \item[3)] Вычисляем матрицы $\bar{Q}_{i,i}, \bar{Q}_{i,i+1}$  по формулам
   $$
    \bar{Q}_{i,i}=Q_{i,i}+Q_{i,i+1}G_{i},\,i\geq 0,
    $$
    $$
       \bar{Q}_{i,i+1}=Q_{i,i+1}, \,i\geq 0.
    $$
    \item[4)] Находим матрицы $F_{i}$  из рекуррентных соотношений:
    $$
    F_{0}=I,F_{i}=F_{i-1}\bar{Q}_{i-1,i}\left( -\bar{Q}_{i,i}
    \right)^{-1},i\ge 1.
    $$

    \item[5)] Вычисляем вектор ${\bf p}_{0}$ как единственное решение
    СЛАУ:
    $$
     {\bf p}_{0}(-\bar{Q}_{0,0})=0,\,\,
        {\bf p}_{0}\displaystyle\sum_{i=0}^{\infty} F_{i}{\bf e}=1.
         $$
    \item[6)] Вычисляем векторы ${\bf p}_{i}$  по формулам
   $
    {\bf p}_{i}={\bf p}_{0}F_{i},i\geq 0.
   $




\end{itemize}

{\bf Замечание 2.} При выполнении шагов 3-6 как-то нужно выбрать значение $i$, при котором мы заканчиваем счет. Чтобы это сделать,  мы должны понимать, что при возрастании $i$ норма матриц $F_i$ убывает. Нам надо, чтобы эта норма была очень малой. Поэтому в качестве предельного значения $i,$ при котором мы заканчиваем  счет, берем такое, при котором уже будет выполняться неравенство $\|F_i\|< \epsilon_F.$



%-------------------------------------- Характеристики производительности


\newpage
\section{Характеристики производительности}

\begin{itemize}

\item [$\bullet$] Вероятность того, что в произвольный момент времени на орбите $i$ заявок
       $$p_i={\bf p}_i{\bf e}.$$

\item [$\bullet$] Среднее число запросов на орбите
$$L=\sum\limits_{i=1}^\infty ip_i.$$


\item [$\bullet$]  Дисперсия числа запросов на орбите
$$D=\sum\limits_{i=1}^\infty i^2p_i-L^2.$$

\item [$\bullet$] Вероятность пребывания основного прибора в состоянии ремонта, вычисляется как
$$P_{repair}=\sum\limits_{i=0}^\infty {\bf p}_i
\left(\begin{array}{cccc}
    {\bf 0}^T_{a(1+M^{(1)})}\\
    {\bf e}_{aR(1+M^{(2)})}\\
        \end{array}
    \right).$$




\item [$\bullet$] Вероятность того, что основной прибор исправен

$$P_{fault-free}=1-P_{repair}.$$



\item [$\bullet$]  Вероятность того, что основной прибор свободен и исправен
$$P_{idle}^{(1)}=\sum\limits_{i=0}^\infty {\bf p}_i
\left(\begin{array}{cccc}
    {\bf e}_a\\
    {\bf 0}^T_{a(M^{(1)}+R+RM^{(2)})}\\
    \end{array}
    \right).
$$


\item [$\bullet$]  Вероятность того, что основной прибор на ремонте, а резервный свободен
$$P_{idle}^{(2)}=\sum\limits_{i=0}^\infty {\bf p}_i
\left(\begin{array}{cccc}
    {\bf 0}^T_{a(1+M^{(1)})}\\
            {\bf e}_{aR}\\
   {\bf 0}^T_{aRM^{(2)}}\\
    \end{array}
    \right).
$$


%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\item [$\bullet$]  Вероятность того, что поступившая первичная заявка сразу пойдет на обслуживание основным прибором
$$P_{imm}^{(1)}=\frac{1}{\lambda}\sum\limits_{i=0}^\infty {\bf p}_i
\left(\begin{array}{cccc}
    I_{\bar W}\otimes {\bf e}_{\bar V}\\
    I_{\bar W}\otimes {\bf 0}^T_{\bar{V}(M^{(1)}+R+RM^{(2)})}\\
    \end{array}
    \right)D_1 {\bf e}.
$$


\item [$\bullet$]  Вероятность того, что поступившая первичная заявка сразу пойдет на обслуживание резервным прибором
$$P_{imm}^{(2)}=\frac{1}{\lambda}\sum\limits_{i=0}^\infty {\bf p}_i
\left(\begin{array}{cccc}
     I_{\bar W}\otimes {\bf 0}^T_{\bar{V}(1+M^{(1)})}\\
           I_{\bar W}\otimes {\bf e}_{\bar{V}R}\\
   I_{\bar W}\otimes{\bf 0}^T_{\bar{V}RM^{(2)}}\\
    \end{array}
    \right)D_1 {\bf e}.
$$




\item [$\bullet$] Вероятность того, что поступившая первичная заявка сразу пойдет на обслуживание
$$P_{imm}=P_{imm}^{(1)}+P_{imm}^{(2)}.$$




\end{itemize}




%-------------------------------------- Характеристики производительности (будут написаны) ----------------------------------------


\section{Численные эксперименты}



\subsection{Эксперимент 1: Зависимость $L$  от $\lambda$ при различных значениях $h$} \label{experiment1}

В данном эксперименте мы будем исследовать зависимость среднего числа запросов на орбите $L$ от интенсивности входящего потока заявок и потока поломок. Для этого будем изменять $\lambda$ при иных фиксированных параметрах системы.

Для наглядности будем строить три кривые, соответствующие различным интенсивностям потока поломок. В силу быстрого роста кривых вблизи предельного значения условия эргодичности, разобьем график на два: один для $\lambda\in(0.8; 8)$, второй для $\lambda\in(8;10)$.

Возьмем следующие входные данные.

\textit{Интенсивность повторных попыток} $\alpha=1.5.$

\textit{Входной $MAP$-поток} задается следующим образом:

$$ D_0= \left(
\begin{array}{cc}
-1.349076 & 1.09082\times 10^{-6}\\
1.09082\times 10^{-6} & -0.043891 \\
\end{array}
\right).
$$
    $$
    D_1 =\left(
\begin{array}{cc}
1.340137  & 0.008939 \\
0.0244854  & 0.0194046\\
\end{array}
\right).
$$

Этот $MAP$ имеет $ c_{var}^2=9.621426$, $c_{cor} =0.407152, \lambda=1$. В ходе эксперимента для получения требуемой интенсивности входного потока будем умножать матрицы $D_0$ и $D_1$ на соответствующие интенсивности $\lambda$.


\textit{$MAP$-поток поломок характеризуется матрицами}

$$
H_0=\left(\begin{array}{cc}
 -8.6  &0.001 \\
     0.002  &-0.276 \\
\end{array}\right),
$$
$$
H_1=\left(\begin{array}{cc}
8.5 &0.099 \\
          0.02 &0.254\\
\end{array}\right).
$$

Для этого $MAP$  $c_{var}^2=9.61425623,\, c_{cor}= 0,407152089,\, h=1.77522951$. При проведении расчетов мы, аналогично случаю $MAP$-потока входящих заявок, будем изменять интенсивность $MAP$-потока путем домножения матриц $H_0$ и $H_1$ на необходимую интенсивность, предварительно их пронормировав.

\textit{$PH$  распределения времен обслуживания на двух  приборах} будем обозначать как $PH^{(serv)}_1,$ $PH^{(serv)}_2.$

    $PH^{(serv)}_1$-обслуживание  на 1-м приборе --- распределение Эрланга 2-го порядка c $c_{var}^2=0.5$ --- характеризуется следующим вектором  и матрицей:

 $$\boldsymbol{\beta}^{(1)}=(1,0),\,\,
 S^{(1)}=\left(
\begin{array}{cc}
-20 & \,20 \\
0 &\, -20
\end{array}\right).
$$

 $PH^{(serv)}_2$-обслуживание  на 2-м приборе --- распределение Эрланга 2-го порядка c $c_{var}^2=0.5$ --- характеризуется следующим вектором  и матрицей:

$$\boldsymbol{\beta}^{(2)}=(1,0),\,\,
S^{(2)}=\left(
\begin{array}{cc}
-2 & \,2 \\
0 &\, -2
\end{array}\right).
$$



\textit{  $PH^{(repair)}_1$ --- времени  ремонта  прибора 1} --- гиперэкспонента 2 порядка c $c_{var}^2=25.07248$
-- характеризуется следующим вектором и матрицей:

$$\boldsymbol {\tau}^{(1)}=(0.05,\,0.95),\,\,
T^{(1)}=\left(
\begin{array}{cc}
-1.86075 & \,0  \\
 0 &\, -146.9994
\end{array}\right).
$$




\begin{table}[H]
\centering
\caption{Данные, полученных в ходе эксперимента 1, для рис. 2.}
\label{tab:L_lambda_h_1}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
$\lambda$ & 1.0        & 2.0        & 3.0       & 4.0       & 5.0        & 6.0       & 7.0       & 8.0       \\ \hline
\multicolumn{9}{|c|}{$h = 0.0001$}                                                                \\ \hline
$\rho$    & 0.100010 & 0.200020 & 0.300030 & 0.400037 & 0.500050 & 0.600055 & 0.700064 & 0.800073 \\ \hline
$L$       & 0.114426 & 0.537211 & 1.454372 & 3.218525 & 6.549572 & 13.00189 & 25.99305 & 54.52236 \\ \hline
$P_{imm}^{(1)}$       & 0.866741 & 0.734645 & 0.605065 & 0.480508 & 0.365331 & 0.266108 & 0.187609 & 0.124905 \\ \hline
$P_{imm}^{(2)}$       & 2.7$\cdot10^{-5}$ & 1.45$\cdot10^{-5}$ & 9.08$\cdot10^{-6}$ & $5.78\cdot10^{-6}$ & 3.67$\cdot10^{-6}$ & 2.35$\cdot10^{-6}$ & 1.52$\cdot10^{-6}$ & $9.35\cdot10^{-7}$ \\ \hline
\multicolumn{9}{|c|}{$h = 0.01$}                                                                 \\ \hline
$\rho$    & 0.100907 & 0.201814 & 0.302721 & 0.403628 & 0.504535 & 0.605443 & 0.706350 & 0.807257 \\ \hline
$L$       & 0.159978 & 0.730418 & 1.865266 & 3.949571 & 7.781240 & 15.09563 & 29.80779 & 62.91471 \\ \hline
$P_{imm}^{(1)}$       & 0.857910 & 0.726097 & 0.596883 & 0.472837 & 0.358354 & 0.259965 & 0.182167 & 0.119732 \\ \hline
$P_{imm}^{(2)}$       & 0.002589 & 0.001378 & 0.000853 & 0.000537 & 0.000337 & 0.000212 & 0.000133 & 7.77$\cdot10^{-5}$  \\ \hline
\multicolumn{9}{|c|}{$h = 0.1$}                                                                  \\ \hline
$\rho$    & 0.107277 & 0.214553 & 0.321830 & 0.429107 & 0.536384 & 0.643660  & 0.750937 & 0.858214 \\ \hline
$L$       & 0.471260 & 2.129538 & 5.061223 & 10.19181 & 19.68883 & 38.89958 & 82.54994 & 206.1645 \\ \hline
$P_{imm}^{(1)}$       & 0.799505 & 0.669633 & 0.543076 & 0.422841 & 0.313427 & 0.220492 & 0.146389 & 0.084624 \\ \hline
$P_{imm}^{(2)}$       & 0.018984 & 0.009486 & 0.005455 & 0.003158 & 0.001814 & 0.001038 & 0.000580 & 0.000294 \\ \hline
\end{tabular}
\end{table}


\begin{table}[H]
\centering
\caption{Данные, полученных в ходе эксперимента 1, для рис. 3.}
\label{tab:L_lambda_h_2}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
$\lambda$ & 8.0        & 8.28        & 8.56       & 8.84       & 9.12        & 9.4       & 9.68       & 9.96       \\ \hline
\multicolumn{9}{|c|}{$h = 0.0001$}                                                                \\ \hline
$\rho$    & 0.800073 & 0.828076 & 0.856079 & 0.884081 & 0.912084 & 0.940086 & 0.968088 & 0.996091 \\ \hline
$L$       & 54.52236 & 68.76271 & 88.62788 & 118.1433 & 166.4527 & 259.7569 & 516.0435 & 4486.657 \\ \hline
$P_{imm}^{(1)}$       & 0.124906 & 0.108768 & 0.092828 & 0.076845 & 0.060532 & 0.043496 & 0.025080 & 0.003605 \\ \hline
$P_{imm}^{(2)}$       & 9.35$\cdot10^{-7}$ & 7.98$\cdot10^{-7}$ & 6.68$\cdot10^{-7}$ & 5.43$\cdot10^{-7}$ & 4.21$\cdot10^{-7}$ & 3.00$\cdot10^{-7}$ & 1.74$\cdot10^{-7}$ & 2.70$\cdot10^{-8}$ \\ \hline
\multicolumn{9}{|c|}{$h = 0.01$}                                                                 \\ \hline
$\rho$    & 0.807257 & 0.835511 & 0.863765 & 0.892019 & 0.920273 & 0.948527 & 0.976781 & - \\ \hline
$L$       & 62.91471 & 80.00339 & 104.5593 & 142.7184 & 209.8073 & 356.1149 & 876.8379 & - \\ \hline
$P_{imm}^{(1)}$       & 0.119732 & 0.103577 & 0.087570 & 0.071456 & 0.054922 & 0.037529 & 0.018497 & - \\ \hline
$P_{imm}^{(2)}$       & 7.78$\cdot10^{-5}$ & 6.46$\cdot10^{-5}$ & 5.21$\cdot10^{-5}$ & 4.02$\cdot10^{-5}$ & 2.90$\cdot10^{-5}$ & 1.86$\cdot10^{-5}$ & 9.06$\cdot10^{-6}$ & - \\ \hline
\multicolumn{9}{|c|}{$h = 0.1$}                                                                  \\ \hline
$\rho$    & 0.858214 & 0.888252 & 0.918289 & 0.948327 & 0.978364 & -  & - & - \\ \hline
$L$       & 206.1645 & 285.6259 & 424.3457 & 725.0222 & 1859.633 & - & - & - \\ \hline
$P_{imm}^{(1)}$       & 0.084624 & 0.068050 & 0.051276 & 0.033909 & 0.015286 & - & - & - \\ \hline
$P_{imm}^{(2)}$       & 0.000294 & 0.000232 & 0.000174 & 0.000117 & 5.74$\cdot10^{-5}$ & - & - & - \\ \hline
\end{tabular}
\end{table}

На рисунках~\ref{fig:L_lambda_h_1} - \ref{fig:P_imm_2} изображены графики зависимости среднего числа запросов $L$ и $P_{imm}$от интенсивности входного потока $\lambda$ при различных интенсивностях потока поломок: $h=0.1$,\,$h=0.01$,\,$h=0.0001$. Видно, что с увеличением интенсивности потока поломок $h$ увеличивается и скорость роста кривой, характеризующей зависимость $L$ от $\lambda$, а также уменьшается правое граничное значение интенсивности входного потока $\lambda$, при котором выполняется условие эргодичности. Уменьшение интервала, на котором для системы выполняется условие эргодичности связано с тем, что с увеличением интенсивности потока поломок растет и $P_{repair}$, то есть основной прибор чаще находится в состоянии ремонта.

С ростом интенсивности $h$ уменьшаются $P_{imm}^{(1)}$ и  $P_{imm}^{(2)}$, так как основной прибор все чаще находится в состоянии ремонта.


Для этого и последующих экспериментов условимся, что пропуски в ячейках таблицы означают нарушение условия эргодичности для системы при соответствующих параметрах.


Значения $P_{repair}$ зависят только от $h$ и $\tau$, так как процессы ремонта и прихода поломок протекают вне зависимости от остальных процессов, происходящих в системе. Приведем полученные значения $P_{repair}$ для рассматриваемых $h$.

$$P_{repair}=9.995755\cdot10^{-5}, при h=0.0001.$$

$$P_{repair}=0.009597, при  h=0.01.$$

$$P_{repair}=0.072421, при h=0.1.$$



\subsection{Эксперимент 2: Зависимость $P_{idle}$  от $h$ при различных интенсивностях ремонта $\tau$} \label{experiment4}



Будем исследовать, как интенсивности поломок $h$ влияют на $P_{idle}^{(1)}$ и $P_{idle}^{(2)}$ при интенсивностях ремонта: $\tau=4$,\,$\tau=10$,\,$\tau=50$. 
Из 1-ого эксперимента возьмем $MAP$-поток поломок и $PH$-распределения времен обслуживания и ремонта. $\lambda$=7, $\alpha$=1.5.

При нулевой интенсивности поломок $h$ имеем систему $M/PH/1$ с повторными вызовами, для которой $P_{idle}^{(1)}=1-\frac{\lambda}{\mu_1}$.
С увеличением интенсивности поломок $h$ стремится к нулю и вероятность $P_{idle}^{(1)}$, так как начинает возрастать $P_{repair}$. $P_{idle}^{(2)}$ первое время возрастает, так как интенсивность ремонта основного прибора позволяет ему справляться с потоком поломок без особого накопления заявок на орбите. После достижения точки максимума, происходит спад, так как основной прибор все хуже справляется с потоком заявок и поломок, а среднее время пребывания заявки в обработке резервным прибором до переключения на основной прибор начинает увеличиваться, вплоть до того, что переключение не происходит, то есть нарушается условие эргодичности.



\begin{table}[H]
\centering
\caption{Таблица данных, полученных в ходе эксперимента 2.}
\label{tab:P_idle_h}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
$h$    & 0.1  & 3.1   & 6.1   & 9.1   & 12.1   & 15.1   & 18.1   & 21.1    \\ \hline
\multicolumn{9}{|c|}{$\tau=4$}                                   \\ \hline
$\rho$ &  0.716560 & 0.949254 & - &- & -& -&- &-\\ \hline
$P_{repair}$    &  0.022663 & 0.262109 &- & - &- &- &- &-\\ \hline
$P_{fault-free}$ & 0.977336 & 0.737890 &- &- & -& -&- &-\\ \hline
$P_{idle}^{(1)}$    & 0.277304 & 0.038079 &- & - & -&- &- &-\\ \hline
$P_{idle}^{(2)}$    & 0.001825 & 0.002726 &-  & - & -&- &- &-\\ \hline
\multicolumn{9}{|c|}{$\tau=10$}                                 \\ \hline
$\rho$ & 0.707990 & 0.848606 & 0.937855& & -& -& -&-\\ \hline
$P_{repair}$  & 0.009597 & 0.155525 & 0.230118 &  -& -& -& -&-\\ \hline
$P_{fault-free}$ & 0.990402 & 0.844474 & 0.769881 & -& -& -& -&-\\ \hline
$P_{idle}^{(1)}$  & 0.289287 & 0.127969 & 0.048048 &  -&- &- & -&-\\ \hline
$P_{idle}^{(2)}$  & 0.001110 & 0.007112 & 0.003683&  -&- &- &- &-\\ \hline
\multicolumn{9}{|c|}{$\tau=50$}                                   \\ \hline
$\rho$ &  0.703054 & 0.773731 & 0.821526& 0.859158 & 0.891692 & 0.921429&0.949527 & 0.976620\\ \hline
$P_{repair}$    & 0.001983 & 0.049781 & 0.083858 & 0.110770 & 0.133359 & 0.153067& 0.170710 & 0.186789\\ \hline
$P_{fault-free}$ & 0.998016 & 0.950219 & 0.916141 & 0.889229 & 0.866641& 0.846932 & 0.829289 & 0.813210\\ \hline
$P_{idle}^{(1)}$   &0.296350  & 0.212994 & 0.160927 & 0.122746 & 0.091740 & 0.064919 & 0.040779 & 0.018499\\ \hline
$P_{idle}^{(2)}$   & 0.000314 & 0.004811 & 0.006024 & 0.005897 & 0.005080 & 0.003871 & 0.002448 & 0.000992\\ \hline
\end{tabular}
\end{table}




\newpage
\subsection{Эксперимент 3: Зависимость $L$ и $V$  от $\lambda$ при различных коэффициентах корреляции  $c_{cor}$ во входном потоке} \label{experiment2}

Целью данного эксперимента является исследование влияния коэффициента корреляции входного потока на среднюю длину очереди системы. Будем рассматривать следующие три $MAP$-потока, которые будем обозначать как $MAP_1, MAP_2, MAP_3.$

{${\bf MAP}_1$.} Стационарный пуассоновский поток интенсивности $\lambda$ ($D_0=-\lambda,\, D_1=\lambda).$ Поток имеет следующие характеристики $c_{cor}=0,\, c_{var}=1.$

{${\bf MAP}_2$.}
Данный поток задан матрицами
 $$
D_{0} =\left(\begin{array}{cc}
{-6.34080} & {1.87977\times 10^{-6} } \\
{1.87977\times 10^{-6} } & {-0.13888}
\end{array}\right),
$$
$$
D_1=\left(\begin{array}{cc}
{6.32140} & {0.01939} \\
 {0.10822} & {0.03066}
 \end{array}\right).
$$

$MAP$-поток характеризуется величинами  $c_{var} =3.5,$ $c_{cor} =0.1$.

{${\bf MAP}_3$.}
В качестве данного потока возьмем $MAP$ из Эксперимента 1. Согласно расчетам, рассматриваемый $MAP$-поток имеет $c_{var}^2 =9,621425623,$ $c_{cor} =0,407152089.$

Из первого эксперимента также возьмем $MAP$-поток поломок и $PH$-распределения времен обслуживания и ремонта.



На рис.~\ref{fig:L_lambda_MAP} изображен график, который показывает, как изменяется среднее число заявок в системе в зависимости от интенсивности поступления заявок. Также на рис.~\ref{fig:V_lambda_MAP} изображена зависимость дисперсии числа заявок в системе в зависимости от интенсивности входного потока.


Из рисунка следует, что с ростом корреляция входящего потока заявок увеличивается скорость роста средней длины очереди и дисперсия.

\begin{table}[H]
\centering
\caption{Данные, полученные в ходе эксперимента 3.}
\label{tab:L_V_lambda_MAP}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
$\lambda$ & 0.5        & 1.5        & 2.5        & 3.5        & 4.5        & 5.5       & 6.5		& 7.5      \\ \hline
\multicolumn{9}{|c|}{$MAP_1$}                                                               \\ \hline
$\rho$    & 0.050454 & 0.151361 & 0.252268 & 0.353175 & 0.454083 & 0.554990  & 0.655897 & 0.756805\\ \hline
$L$       & 0.023757 & 0.283329 & 0.872220 & 1.887896 & 3.561776  & 6.344786 & 11.22790  & 20.89522\\ \hline
$V$      & 0.029953 & 1.931401 & 13.18716 & 40.78577 & 95.68375 & 200.7942 & 413.4910 & 924.9525\\ \hline
\multicolumn{9}{|c|}{$MAP_2$}                                                               \\ \hline
$\rho$    & 0.050453 & 0.151361 & 0.252268 & 0.353176 & 0.454082 & 0.554990 & 0.655897 &  0.756805\\ \hline
$L$       & 0.028492 & 0.338251  & 1.041419 & 2.310721 & 4.524159 & 8.478676 & 16.08849 & 32.81431\\ \hline
$V$       & 0.039286 & 2.865901 & 16.96038 & 50.36719 & 117.8927 & 254.1400 & 560.2516 & 1456.275\\ \hline
\multicolumn{9}{|c|}{$MAP_3$}                                                               \\ \hline
$\rho$    & 0.050454 & 0.151361 & 0.252268 & 0.353176 & 0.454083 & 0.554990  & 0.655897  & 0.756805\\ \hline
$L$      & 0.033293 & 0.389347 & 1.209491 & 2.752555 & 5.570013 & 10.83261 & 21.12884 & 42.67658\\ \hline
$V$       & 0.051067 & 3.719671 & 19.94419 & 57.99212 & 137.4796  & 310.5667 & 751.1739 & 2192.453 \\ \hline
\end{tabular}
\end{table}


\newpage
\subsection{Эксперимент 4: Зависимость $L$  от $h$ при различных коэффициентах вариации   $c_{var}$ времени ремонта} \label{experiment4}

Исследуем, как различные распределения времени ремонта влияют на среднее число заявок в системе при различных интенсивностях поступления поломок.

Будем использовать следующие входные данные:

Входной $MAP$-поток, $MAP$-поток поломок и $PH$-распределения времени обслуживания возьмем такие же, как в эксперименте 1.

Возьмем три различных $PH$-распределения


{${\bf PH}_1$.}  $PH$-распределение времени  ремонта  основного прибора -- распределение Эрланга 4-го порядка -- характеризуется следующим вектором и матрицей:


$$\boldsymbol \tau=(1,\,0,\,0,\,0),\,\,
T=\left(
\begin{array}{cccc}
-4 & \,4 & \,0 & \,0 \\
 0 &\,-4 & \,4 & \,0 \\
 0 & \,0 & \,-4 & \,4 \\
 0 &\,0 & \,0 & \,-4
\end{array}\right).
$$

С параметром $c^2_{var}=0.25.$

{${\bf PH}_2$.} Это экспоненциальное время ремонта с интенсивностью $0.05$ и  $c^2_{var}=1$.

\vspace{5mm}

{${\bf PH}_3$.}  $PH$-распределение времени  ремонта основного прибора -- гиперэкспонента 2 порядка -- характеризуется следующим вектором и матрицей:


$$\boldsymbol \tau=(0.05,\,0.95),\,\,
T=\left(
\begin{array}{cc}
-0.003101265209245752 & \,0  \\
 0 &\, -0.2450002015316405
\end{array}\right).
$$

Для данного потока $c^2_{var}=25.$

Потоки изменим таким образом, чтобы интенсивность ремонта была равна $1$.




\begin{table}[H]
\centering
\caption{Таблица данных, полученных в ходе эксперимента 4.}
\label{tab:l_h_repair}
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
$h$    & 0.001  & 0.02   & 0.04    & 0.06    & 0.08	& 0.1     \\ \hline
\multicolumn{7}{|c|}{$PH_1$}                                   \\ \hline
$\rho$ & 0.700660 & 0.712465 & 0.723533 & 0.733474 & 0.742493 & 0.750749\\ \hline
$L$    & 26.09463 & 29.29846 & 34.33535 & 41.80023  & 51.71597 & 62.88528\\ \hline
\multicolumn{7}{|c|}{$PH_2$}                                 \\ \hline
$\rho$ & 0.700658 & 0.712420 & 0.723448 & 0.733355 & 0.742346 & 0.750580\\ \hline
$L$    & 26.10141 & 29.43898 & 34.61978 & 42.18855 & 52.10857 & 63.20273\\ \hline
\multicolumn{7}{|c|}{$PH_3$}                                   \\ \hline
$\rho$ & 0.700652 & 0.712323  & 0.723321  & 0.733289 & 0.742442 & 0.750938\\ \hline
$L$    & 26.32083 & 34.16306 & 44.47051  & 56.56711 & 69.55053 & 82.54994\\ \hline
\end{tabular}
\end{table}

Из графика видно, что с увеличением вариации $PH$-распределения времени ремонта растет и среднее число запросов на орбите.




\newpage
%-------------------------------------- Список литературы  ----------------------------------------

\begin{thebibliography}{3}

\bibitem{bi:1} Вишневский В.М., Дудин А.Н., Клименок В.И. Стохастические системы с коррелированными потоками. Теория и применение в телекоммуникационных сетях. Москва: ТЕХНОСФЕРА, 2018. - С.193-198, С.304-318.

\bibitem{KlDud} В.И.Клименок, В.М. Вишневский. Стационарные характеристики ненадежной системы массового обслуживания с марковским потоком и резервным прибором // Distributed Computer and Communication Networks: Control, Computation, Communications (DCCN—2016),  21—25  November, 2016,  Moscow,  Russia – Т. 1. С.93-100.

\bibitem{bi:3} Ю. С. Харин, Н. М. Зуев, Е. Е. Жук. Теория вероятностей, математическая и прикладная статистика.  Минск: БГУ, 2011. – C.213-226
\end{thebibliography}


\end{document} 